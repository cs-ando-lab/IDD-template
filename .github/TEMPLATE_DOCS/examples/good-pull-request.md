# ✅ 良い Pull Request の例

## タイトル
```
feat: ユーザープロフィール編集機能を実装
```

---

## 本文

### 関連Issue
Closes #42

### 変更内容の概要
ユーザーがプロフィール情報（名前、アイコン、自己紹介）を編集できる機能を実装しました。

### 実装した機能
- ✅ プロフィール編集画面のUI実装
- ✅ フォームバリデーション（名前: 3-20文字、自己紹介: 最大500文字）
- ✅ 画像アップロード機能（最大5MB、自動リサイズ）
- ✅ Firestoreへのデータ保存処理
- ✅ エラーハンドリングとトースト通知
- ✅ レスポンシブ対応

### 技術的な詳細

#### 主要な変更ファイル
- `src/components/ProfileEditModal.tsx` - 編集モーダルコンポーネント
- `src/hooks/useProfileEdit.ts` - 編集ロジックのカスタムフック
- `src/services/profileService.ts` - Firestore 連携処理
- `src/services/storageService.ts` - 画像アップロード処理

#### 使用した技術・ライブラリ
- React Hook Form - フォーム管理
- Zod - バリデーションスキーマ
- Firebase Storage - 画像保存
- react-image-crop - 画像クロップ機能

#### セキュリティ対策
- Firestore Security Rules を更新（本人のみ編集可能）
- 画像ファイルタイプのチェック
- XSS 対策（入力のサニタイズ）

### スクリーンショット

#### 編集モーダル
![Profile Edit Modal](https://example.com/screenshot1.png)

#### モバイル表示
![Mobile View](https://example.com/screenshot2.png)

#### エラー表示
![Error Handling](https://example.com/screenshot3.png)

### テスト
- ✅ ユニットテスト: `ProfileEditModal.test.tsx`（カバレッジ 85%）
- ✅ 統合テスト: プロフィール更新のE2Eシナリオ
- ✅ 手動テスト: Chrome, Safari, Firefox で動作確認

#### テストした主要なケース
- [ ] 正常系: すべての項目を入力して保存が成功
- [ ] 異常系: バリデーションエラーが正しく表示される
- [ ] 異常系: 5MBを超える画像でエラーが出る
- [ ] 異常系: ネットワークエラー時の処理
- [ ] エッジケース: 特殊文字を含む名前
- [ ] エッジケース: 絵文字を含む自己紹介

### パフォーマンス
- 画像を最大1024x1024pxにリサイズしてアップロード
- 保存処理は平均200ms以内
- Lighthouse スコア: Performance 95, Accessibility 98

### 破壊的変更（Breaking Changes）
なし

### マイグレーション
既存ユーザーのデータ構造は変更なし。新規フィールドはオプショナル。

### 残課題・今後の改善
- [ ] プロフィール編集履歴の記録（#89 で対応予定）
- [ ] 複数画像対応（将来の機能として検討中）

### レビューポイント
特に以下の点を重点的に確認していただけると助かります：
- バリデーションロジックの妥当性
- エラーハンドリングの漏れがないか
- Firestore Security Rules の設定

### チェックリスト
- [x] Issue の完了条件（DoD）をすべて満たしている
- [x] コードレビューしやすい単位に分割している
- [x] テストを追加・更新している
- [x] ドキュメントを更新している（必要に応じて）
- [x] 型エラー、リントエラーがない
- [x] セルフレビューを実施した

---

## 💡 この例の良い点

✅ **Issueとの紐付け**: `Closes #42` で自動クローズ
✅ **変更内容が明確**: 何を実装したかが一目でわかる
✅ **技術詳細**: 使用した技術やアプローチが説明されている
✅ **スクリーンショット**: UIの変更が視覚的にわかる
✅ **テスト情報**: どんなテストをしたか記載
✅ **レビューポイント**: レビュアーへの配慮
✅ **チェックリスト**: 確認事項が網羅されている

このレベルの情報があれば、レビュアーは文脈を理解してスムーズにレビューできます。
