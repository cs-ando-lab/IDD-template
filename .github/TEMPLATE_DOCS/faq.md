# ❓ よくある質問・トラブルシューティング

## 🔰 基本的な質問

### Q1: Issue駆動開発（IDD）とは何ですか？
**A:** 全ての変更を「Issue」として記録し、コードと紐付ける開発手法です。「何を」「なぜ」「どのように」変更したのかが常に追跡可能になります。

**メリット：**
- 開発の目的が明確になる
- 過去の変更理由を簡単に追跡できる
- チーム開発での混乱を防ぐ
- レビューがスムーズになる

---

### Q2: 小さな変更でもIssueを作る必要がありますか？
**A:** はい、原則として全ての変更にIssueを作成してください。

ただし、以下のような軽微な変更には「Quick Task」テンプレートを使用すると負担が少なくなります：
- タイポ修正
- コメント追加
- フォーマット調整
- READMEの微修正

**Tip:** Quick Taskテンプレートは詳細な要件定義を省略できる軽量版です。

---

### Q3: 一人開発でもIssueは必要ですか？
**A:** はい、一人開発でこそ価値があります。

**理由：**
- 数ヶ月後の自分は「別人」です。なぜこのコードを書いたか忘れます
- 作業の優先順位を整理できる
- 中断・再開がスムーズ（Issueが作業メモになる）
- ポートフォリオとして見せる際に開発プロセスが可視化される

---

### Q4: ブランチ名は必ずIssue番号を含める必要がありますか？
**A:** 推奨ですが、必須ではありません。

ただし、ブランチ名にIssue番号を含めると以下のメリットがあります：
- どの作業のためのブランチか一目瞭然
- GitHubのUI上でIssueとブランチが自動で紐付く
- レビュー時に文脈を理解しやすい

**推奨フォーマット：**
```
feature/42-login-page
fix/15-button-color
docs/8-update-readme
```

---

## 🚨 トラブルシューティング

### エラー: PRがIDD Guardでブロックされる

**症状：** PR作成時に「IDD Guard」のチェックが失敗し、マージできない。

**原因と解決策：**

#### 1. PR本文にIssue番号の記載がない
```diff
- 本文が空、または Issue 番号がない

+ Closes #42
+ または
+ Fixes #42
+ Resolves #42
```

#### 2. キーワードのスペルミス
```diff
- Close #42  ❌ (Close ではなく Closes)
- Fix #42    ❌ (Fix ではなく Fixes)

+ Closes #42 ✅
+ Fixes #42  ✅
```

#### 3. Issue番号が存在しない
- 記載した Issue 番号が実際に存在するか確認
- Issue がクローズされていないか確認

---

### エラー: ラベルが自動同期されない

**症状：** `.github/labels.yaml` を編集してもラベルが反映されない。

**解決策：**

#### 1. Workflow権限の確認
1. リポジトリの **Settings** > **Actions** > **General**
2. **Workflow permissions** を **Read and write permissions** に変更
3. Save をクリック

#### 2. Workflowの手動実行
1. **Actions** タブを開く
2. 「Label Sync」を選択
3. **Run workflow** をクリック

#### 3. Workflow実行履歴の確認
- **Actions** タブでエラーログを確認
- YAML のシンタックスエラーがないか確認

---

### エラー: PRタイトルが規約違反でブロックされる

**症状：** PR作成時にタイトル規約のチェックが失敗する。

**解決策：**

以下のフォーマットに従ってタイトルを修正してください：

```
[Type]: 概要
```

**正しい例：**
```
feat: ログイン機能の追加
fix: ボタンの色を修正
docs: READMEを更新
refactor: 認証処理をリファクタリング
```

**間違った例：**
```
❌ ログイン機能を追加 (Type がない)
❌ Feature: ログイン機能 (Type が大文字)
❌ feat ログイン機能 (コロンがない)
```

---

### 問題: Issueテンプレートが表示されない

**症状：** Issue作成時にテンプレート選択画面が表示されない。

**原因と解決策：**

#### 1. ファイルの配置場所が間違っている
- `.github/ISSUE_TEMPLATE/` 配下に配置する必要があります
- 大文字・小文字を正確に確認してください

#### 2. YAMLシンタックスエラー
- オンラインのYAMLバリデーターで構文をチェック
- インデントがスペース2個で統一されているか確認

#### 3. キャッシュの問題
- ブラウザのキャッシュをクリア
- シークレットモードで確認

---

## 💡 ベストプラクティス

### Issueの書き方

**良い例：**
```markdown
## 目的
ログイン機能を実装し、ユーザー認証を可能にする

## 完了条件（DoD）
- [ ] メールアドレスとパスワードでログインできる
- [ ] ログイン失敗時にエラーメッセージが表示される
- [ ] ログイン成功後にダッシュボードへリダイレクトされる

## 技術的な制約
- Firebase Authentication を使用
- パスワードは最低8文字
```

**悪い例：**
```markdown
ログイン機能作る
```

---

### PRの書き方

**良い例：**
```markdown
## 関連Issue
Closes #42

## 変更内容
- ログインページのUIを実装
- Firebase Authentication との連携処理を追加
- エラーハンドリングを実装

## スクリーンショット
（ログイン画面の画像）

## テスト
- [ ] 正常系：ログインが成功することを確認
- [ ] 異常系：誤ったパスワードでエラーが表示されることを確認
```

**悪い例：**
```markdown
ログイン機能を追加しました。
レビューお願いします。
```

---

### レビュー時のポイント

**レビュアー（見る人）：**
- コードの前にIssueを読んで文脈を理解する
- 完了条件（DoD）が満たされているか確認
- 建設的なフィードバックを心がける

**レビュイー（書いた人）：**
- セルフレビューを必ず行う（自分で一度見直す）
- レビューしやすいサイズに分割する（300行以内が目安）
- 変更理由を明確に説明する

詳細は [コードレビューガイド](code-review-guide.md) を参照してください。

---

## 🆘 それでも解決しない場合

1. **GitHub Discussions で質問する**（このテンプレートのリポジトリにある場合）
2. **新しいIssueを作成する**（バグ報告やテンプレート改善提案）
3. **チームメンバーに相談する**

このFAQ自体への改善提案も歓迎します！
